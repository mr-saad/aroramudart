import Link from "next/link"
import { useRouter } from "next/router"
import { motion } from "framer-motion"
import { useContext, useEffect, useState } from "react"
import { Context } from "../pages/_app"
import { Swiper, SwiperSlide } from "swiper/react"
import "swiper/css"
import "swiper/css/navigation"
import { Autoplay, Navigation } from "swiper/modules"

const Navbar = () => {
  const [open, setOpen] = useState(false)
  const [y, setY] = useState(0)
  const [deviceWidth, setDeviceWidth] = useState(541)
  const { route } = useRouter()

  const { offers, categories } = useContext(Context)

  const [showSearch, setShowSearch] = useState(false)

  useEffect(() => {
    setDeviceWidth(innerWidth)

    const ul = document.querySelector("nav ul")
    const linkEvent = (e) => {
      if (e.target.tagName === "A") setOpen(false)
    }
    ul.addEventListener("click", linkEvent)

    let lastScroll = 0
    const scrollEvent = () => {
      setY(window.scrollY)
      if (window.scrollY < lastScroll)
        document.querySelector("nav").style.top = 0
      else document.querySelector("nav").style.top = "-100%"
      lastScroll = window.scrollY
    }
    window.addEventListener("scroll", scrollEvent)

    const sizeListener = () => {
      setDeviceWidth(innerWidth)
    }

    window.addEventListener("resize", sizeListener)
    ;() => {
      window.removeEventListener("scroll", scrollEvent)
      window.removeEventListener("resize", sizeListener)
      ul.removeEventListener("click", linkEvent)
    }
  }, [])

  return (
    <>
      {route === "/" && offers.length && (
        <Swiper
          navigation
          className="!z-2 bg-black"
          modules={[Navigation, Autoplay]}
          autoplay
          loop
        >
          {offers.map((offr) => (
            <SwiperSlide>
              <Link
                href={`/offers/${offr.slug}`}
                className={`text-white z-5 relative text-xs py-3 uppercase text-center ${
                  open ? "hidden" : "block"
                }`}
              >
                {offr.title}
              </Link>
            </SwiperSlide>
          ))}
        </Swiper>
      )}
      <nav
        className={`group sticky md:hover:bg-white md:hover:border-b border-gray-200  transition-[top,background-color] duration-[500ms,150ms] px-4 z-3 md:px-20 pt-4 pb-4 md:pb-0 ${
          route === "/"
            ? y > 80
              ? "bg-white border-b"
              : "bg-transparent"
            : "bg-white border-b"
        } `}
      >
        <div className="flex items-center justify-between">
          <div className="hidden md:block"></div>
          <div
            className="md:hidden z-4 cursor-pointer w-8 flex flex-col justify-between justify-self-end gap-2"
            onClick={() => {
              setOpen((prev) => !prev)
            }}
          >
            <span
              className={`${
                route === "/"
                  ? y > 80 || open
                    ? "bg-black"
                    : "bg-white group-hover:bg-black"
                  : "bg-black"
              } rounded-md h-[2px] w-8 transition-all origin-left ${
                open && "!w-[28px] rotate-45"
              }`}
            ></span>
            <span
              className={` ${
                route === "/"
                  ? y > 80 || open
                    ? "bg-black"
                    : "bg-white group-hover:bg-black"
                  : "bg-black"
              } rounded-md h-[2px] w-8 transition-all ${open && "opacity-0"}`}
            ></span>
            <span
              className={`${
                route === "/"
                  ? y > 80 || open
                    ? "bg-black"
                    : "bg-white group-hover:bg-black"
                  : "bg-black"
              } rounded-md h-[2px] w-8 transition-all origin-left ${
                open && "!w-[28px] -rotate-45"
              }`}
            ></span>
          </div>
          <Link title="Arora Mud Art | Home" href="/">
            <svg
              width="115"
              height="40"
              viewBox="0 0 683 239"
              className={`transition-colors ${showSearch && "fill-black"} ${
                route === "/"
                  ? y > 80 && !open
                    ? "fill-black"
                    : "fill-white group-hover:fill-black"
                  : "fill-black"
              }`}
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="M679.508 0.354004H679.962V0.808105C679.962 1.00993 679.811 1.66585 679.508 2.77588C680.467 4.94548 681.602 6.73665 682.914 8.14941V8.60352C680.492 16.071 677.086 24.5223 672.697 33.9575L658.09 65.5933C660.36 66.8547 661.496 67.6619 661.496 68.0151C660.739 68.6711 659.604 68.999 658.09 68.999V69.5288L658.544 70.5127C654.911 71.875 652.489 74.4735 651.278 78.3081C629.078 119.985 613.008 147.584 603.068 161.106H602.538V157.17C606.877 150.561 611.746 141.302 617.145 129.395L619.567 125.535V124.551C618.558 124.551 616.136 128.285 612.301 135.752C611.393 136.458 609.602 139.713 606.928 145.515C606.575 145.515 604.96 148.416 602.084 154.219C600.974 154.219 600.167 155.531 599.662 158.154C598.754 159.769 597.921 160.576 597.165 160.576L594.743 160.122V161.56C594.44 161.56 594.289 161.409 594.289 161.106L593.305 161.56C592.649 161.257 592.169 161.106 591.867 161.106C596.155 150.611 601.176 140.848 606.928 131.816L616.691 113.804C616.691 113.148 618.785 109.086 622.973 101.619C622.973 101.064 624.612 97.9858 627.892 92.3853C633.089 83.1014 635.688 77.0972 635.688 74.3726H635.158C618.608 74.3726 610.333 75.5078 610.333 77.7783C591.413 94.126 577.285 105.655 567.951 112.366H567.497V111.912C567.799 110.6 568.455 109.944 569.464 109.944V109.414C568.859 109.414 567.875 109.111 566.513 108.506C566.513 109.515 565.705 110.474 564.091 111.382H563.107V110.928C563.107 110.575 563.258 110.398 563.561 110.398L563.107 109.414V108.506L564.545 105.554L562.123 106.008H561.669L565.529 98.7427L571.356 93.8989L588.915 77.7783V76.3403C588.158 76.3403 587.502 76.1637 586.947 75.8105C586.645 75.8105 586.493 75.9871 586.493 76.3403L584.071 75.8105H576.73C574.964 75.8105 572.694 75.6592 569.918 75.3564C569.616 75.3564 569.464 75.5078 569.464 75.8105C569.212 75.8105 568.228 75.6592 566.513 75.3564C541.184 75.3564 528.52 74.3726 528.52 72.4048C531.547 69.8315 534.297 68.5449 536.769 68.5449V68.999C537.223 68.6963 538.358 68.5449 540.175 68.5449V68.0151H538.737V67.1069H539.267C541.789 67.1069 547.794 66.9303 557.279 66.5771L557.733 65.5933L555.312 65.1392H549.938V64.1553C550.089 64.1553 551.704 63.6759 554.782 62.7173L555.766 63.1714C555.967 63.1714 556.623 63.02 557.733 62.7173L558.717 63.1714L559.701 62.7173C560.357 62.7173 560.685 62.8687 560.685 63.1714L565.529 62.7173H576.276V64.1553H577.26C577.865 64.1553 578.168 63.6759 578.168 62.7173H578.698C578.698 63.6759 579.833 64.1553 582.104 64.1553H585.963C587.073 64.1553 587.906 64.0039 588.461 63.7012L591.337 64.1553H597.165L600.57 63.7012V63.1714H599.132V62.7173C599.233 62.0614 599.561 61.7334 600.116 61.7334H603.976C607.76 61.7334 610.863 60.4215 613.285 57.7979C613.285 58.151 613.437 58.3276 613.739 58.3276C613.739 57.4699 614.395 56.814 615.707 56.3599C615.707 55.3507 618.306 53.0802 623.502 49.5483C624.108 48.186 630.919 42.3332 643.937 31.9897C661.294 17.2567 673.151 6.71143 679.508 0.354004ZM651.732 41.7529C639.724 52.2982 633.72 57.8231 633.72 58.3276V59.7656C634.275 60.1188 634.931 60.2954 635.688 60.2954H637.125L640.531 59.7656V60.2954C644.265 60.2954 647.015 57.369 648.781 51.5161C651.404 47.1769 652.716 44.0739 652.716 42.207L651.732 41.7529ZM629.784 62.7173C631.096 62.7173 631.752 62.8687 631.752 63.1714C632.408 62.8687 632.912 62.7173 633.266 62.7173C633.821 62.7173 636.722 62.5407 641.969 62.1875V61.2036H640.985C633.518 61.2036 629.784 61.7082 629.784 62.7173ZM585.509 62.1875H590.353V63.1714H585.509V62.1875ZM602.084 62.7173V63.1714L604.506 63.7012V62.7173H602.084ZM558.717 65.5933V66.123H562.123V65.5933H558.717ZM554.328 70.5127V71.4966H556.295V70.9668L554.328 70.5127ZM557.279 70.9668V71.4966H562.577V70.9668H557.279ZM563.107 70.9668V71.9507H577.714V71.4966C573.072 71.4966 568.203 71.32 563.107 70.9668ZM624.486 71.9507H617.675C617.776 72.6066 618.078 72.9346 618.583 72.9346H619.567C620.727 72.9346 622.191 72.758 623.957 72.4048L624.94 72.9346C625.495 72.5814 626.303 72.4048 627.362 72.4048L626.908 71.4966L624.486 71.9507ZM630.314 71.9507V72.4048C631.878 72.1021 633.997 71.9507 636.671 71.9507V71.4966H631.752C631.146 71.7993 630.667 71.9507 630.314 71.9507ZM565.983 73.9185V74.3726C569.818 74.3726 572.921 74.5492 575.292 74.9023C576.553 74.5492 577.689 74.3726 578.698 74.3726V73.3887H570.902L565.983 73.9185ZM581.12 73.9185C581.221 74.5744 581.549 74.9023 582.104 74.9023H583.542C583.542 74.2464 583.214 73.9185 582.558 73.9185H581.12ZM561.669 106.008V106.538C561.669 107.194 561.341 107.522 560.685 107.522V106.992C560.786 106.336 561.114 106.008 561.669 106.008ZM561.669 115.317H562.577V115.771C562.577 116.427 562.274 116.755 561.669 116.755C561.013 116.755 560.685 116.427 560.685 115.771L561.669 115.317ZM596.71 155.732C596.71 156.086 596.534 156.565 596.181 157.17H598.148V156.716C598.148 156.06 597.82 155.732 597.165 155.732H596.71Z" />
              <path d="M484.275 0.354004H484.805L484.275 1.48926V3.75977C489.119 2.85156 491.541 1.71631 491.541 0.354004L494.946 0.883789C500.597 0.530599 505.819 0.354004 510.613 0.354004H511.218C518.585 0.354004 527.389 4.46615 537.632 12.6904C539.65 16.2223 540.962 19.401 541.567 22.2266V27.9028C540.306 35.6226 538.237 41.425 535.361 45.3101C533.747 46.7733 530.013 51.4404 524.16 59.3115H523.555V58.1763L525.22 55.9814H524.16C510.941 67.2835 495.955 75.8862 479.204 81.7896C475.016 82.8996 470.904 83.4546 466.868 83.4546C472.166 89.6606 481.878 97.9102 496.006 108.203C497.469 108.91 506.475 114.712 523.025 125.61C536.749 134.137 553.223 143.497 572.446 153.689V154.294H570.176C566.442 152.882 564.575 151.923 564.575 151.418L563.44 152.024H562.305C561.951 152.024 561.775 151.822 561.775 151.418C560.362 151.772 559.227 153.083 558.369 155.354C560.64 156.111 561.775 156.868 561.775 157.625C560.867 158.381 560.11 158.76 559.504 158.76L556.704 158.154V158.76C556.704 159.517 557.259 159.895 558.369 159.895V161.56H557.839C557.032 161.56 548.606 156.691 532.561 146.953C521.208 141.201 507.358 132.397 491.011 120.54C485.662 118.067 475.723 110.776 461.191 98.667H459.526C457.357 101.997 454.556 110.045 451.125 122.81C450.369 125.787 446.61 130.101 439.849 135.752H438.713L437.654 134.011V133.481C437.654 132.573 438.209 130.883 439.319 128.411V127.881H438.713C438.612 128.89 436.367 130.555 431.978 132.876H431.448V131.816C444.566 92.8646 453.749 67.3844 458.997 55.376C467.978 34.79 472.468 23.0086 472.468 20.0317C470.4 20.0317 465.909 22.6554 458.997 27.9028H457.861L458.391 26.7676V25.6323C456.322 25.6323 451.655 29.0129 444.39 35.7739H443.784V35.1685L451.125 26.7676L452.261 25.1025V24.4971H451.125L444.39 30.0977C443.633 30.0977 443.254 29.7445 443.254 29.0381C450.268 21.2679 458.87 14.7087 469.062 9.36035C478.447 6.98893 483.14 4.16341 483.14 0.883789L484.275 0.354004ZM535.361 16.0962V16.626C535.462 17.3828 535.841 17.7612 536.497 17.7612V17.2314C536.497 16.4746 536.118 16.0962 535.361 16.0962ZM469.668 69.9829H470.198C476.908 68.6711 480.289 67.561 480.339 66.6528C479.936 65.896 479.734 65.3158 479.734 64.9121C494.063 60.0684 503.625 55.2246 508.418 50.3809C508.872 50.3809 511.874 47.1769 517.424 40.769H517.954V41.3745C517.197 42.5854 516.819 43.5189 516.819 44.1748H517.424C522.268 40.4411 524.69 36.3289 524.69 31.8384V28.4326C523.58 28.4326 523.025 28.0542 523.025 27.2974C524.892 26.9442 525.825 26.0107 525.825 24.4971C525.825 22.5293 522.066 20.6624 514.548 18.8965C508.544 17.3828 502.01 16.626 494.946 16.626C491.313 16.626 487.756 23.1852 484.275 36.3037C482.761 37.9183 477.892 49.1447 469.668 69.9829ZM476.404 22.2266V22.832C476.908 22.832 477.463 22.277 478.069 21.167V20.5615C477.514 20.5615 476.959 21.1165 476.404 22.2266ZM476.934 32.8979H477.539C478.649 32.5448 479.204 31.4347 479.204 29.5679C478.599 29.5679 477.842 30.6779 476.934 32.8979ZM529.761 35.1685V36.3037C530.265 36.3037 530.82 35.7487 531.426 34.6387V34.0332H530.896C530.139 34.1846 529.761 34.563 529.761 35.1685ZM469.062 72.7832V73.3887H470.198C470.904 72.985 471.459 72.7832 471.863 72.7832V73.3887C480.995 71.7741 486.444 69.9072 488.21 67.7881H487.605C479.381 69.7559 473.2 71.4209 469.062 72.7832ZM466.868 78.4595H467.397L477.539 76.189L476.934 75.0537C470.223 75.9619 466.868 77.0972 466.868 78.4595ZM489.27 113.274V114.409C495.072 118.9 498.63 121.145 499.941 121.145C498.478 120.136 497.747 119.202 497.747 118.345L489.27 113.274ZM505.618 125.61C505.971 127.124 507.081 127.881 508.948 127.881H509.553V127.275C508.645 127.275 507.51 126.72 506.147 125.61H505.618ZM542.097 145.818C545.024 148.492 549.514 151.116 555.569 153.689L556.174 152.554C551.482 149.779 547.168 147.533 543.232 145.818H542.097ZM572.976 154.824H574.717C575.423 154.925 575.776 155.304 575.776 155.959C575.07 155.959 574.717 156.514 574.717 157.625H573.582L574.111 156.489V155.959H572.976V154.824Z" />
              <path d="M428.072 0.732422C431.604 0.732422 434.833 2.80111 437.76 6.93848H431.554C425.701 6.93848 418.107 8.78011 408.773 12.4634V13.1445H409.454C422.623 12.2363 432.285 11.7822 438.441 11.7822H439.803V13.1445H437.079C436.625 13.1445 436.397 12.9175 436.397 12.4634L399.085 17.9883C399.085 18.5433 396.79 19.2244 392.198 20.0317V21.394L402.567 19.3506H403.248V20.7129C372.42 28.8363 357.005 34.8153 357.005 38.6499C341.97 51.2638 331.172 62.9948 324.613 73.8428C314.471 91.805 309.4 105.605 309.4 115.242C309.4 125.181 314.471 132.548 324.613 137.341C326.429 137.795 328.044 138.022 329.457 138.022C349.74 129.95 364.902 116.377 374.942 97.3047C377.717 88.6263 380.013 78.2829 381.83 66.2744H383.268L381.83 79.3677C383.242 79.3677 384.403 75.9367 385.311 69.0747C384.857 67.2583 384.63 65.4167 384.63 63.5498V61.4307H385.992C386.446 68.3936 386.673 73.2373 386.673 75.9619C386.673 79.5443 385.538 85.7503 383.268 94.5801C385.841 92.3096 388.818 84.716 392.198 71.7993C393.813 59.3872 395.2 53.1812 396.361 53.1812C396.361 53.6353 396.588 53.8623 397.042 53.8623C396.588 54.3164 396.134 57.0662 395.68 62.1118V62.793H396.361C398.177 57.6465 399.312 51.9198 399.767 45.6128C398.858 43.6955 398.404 42.3079 398.404 41.4502L399.767 40.769C401.129 40.769 402.516 44.4523 403.929 51.8188C403.929 69.9829 396.336 93.4196 381.148 122.129C369.14 139.738 353.978 151.242 335.663 156.641C327.539 159.416 319.719 160.803 312.201 160.803C293.784 155.707 284.576 141.908 284.576 119.404C284.576 93.7728 294.92 70.5379 315.606 49.6997C322.317 42.3332 336.344 31.7627 357.687 17.9883C381.401 6.48438 404.863 0.732422 428.072 0.732422ZM394.317 11.7822V12.4634C398.152 12.4634 400.221 12.6904 400.523 13.1445C404.308 11.3281 406.603 10.4199 407.411 10.4199V8.98193L394.317 11.7822ZM307.357 66.2744C317.448 56.6878 325.496 48.6401 331.5 42.1313C337 38.7508 339.75 36.001 339.75 33.8818C330.415 39.3311 320.299 48.9681 309.4 62.793C308.038 63.903 307.357 65.0635 307.357 66.2744ZM308.719 101.467C309.274 101.467 311.57 96.3965 315.606 86.2549C320.602 75.0033 330.945 61.2036 346.637 44.856V44.1748C331.096 55.7292 322.595 64.9373 321.131 71.7993C316.994 76.5422 312.857 86.4315 308.719 101.467ZM300.47 84.8926V85.5737H301.151C311.242 71.547 316.288 63.4993 316.288 61.4307C309.728 67.0817 304.456 74.9023 300.47 84.8926ZM390.836 90.4175V91.0986H391.517C396.563 76.5169 399.085 67.0817 399.085 62.793C396.058 67.889 393.308 77.0972 390.836 90.4175ZM304.557 69.0747V69.7559C305.515 69.7559 305.995 69.2765 305.995 68.3179V67.6367C305.036 67.7881 304.557 68.2674 304.557 69.0747ZM299.032 77.3242C292.17 93.3691 288.739 105.1 288.739 112.517C289.647 127.149 291.262 136.584 293.583 140.823H294.264V139.385C292.851 136.509 292.145 131.69 292.145 124.929C292.145 117.512 292.851 109.237 294.264 100.105L293.583 98.7427C294.945 92.688 297.014 85.7756 299.789 78.0054V77.3242H299.032ZM306.676 106.311V106.992C307.584 106.992 308.038 106.538 308.038 105.63V104.949C307.13 105.05 306.676 105.504 306.676 106.311ZM374.942 110.474V111.155H375.624C377.49 108.077 378.424 106.235 378.424 105.63C377.314 105.882 376.153 107.497 374.942 110.474ZM299.789 106.311C298.376 110.448 297.215 115.04 296.307 120.085C297.215 129.521 298.603 136.433 300.47 140.823H301.151V139.385C299.738 133.28 299.032 129.369 299.032 127.654L299.789 126.292C299.284 125.484 299.032 124.576 299.032 123.567C299.032 122.507 299.284 121.574 299.789 120.767C299.284 119.909 299.032 119.228 299.032 118.723C299.99 111.407 300.47 107.497 300.47 106.992V106.311H299.789ZM351.48 132.498V133.179C353.045 133.179 357.888 128.36 366.012 118.723V118.042H365.331C356.097 126.619 351.48 131.438 351.48 132.498ZM370.855 126.973C370.855 127.578 366.466 132.195 357.687 140.823H358.368C364.523 135.323 368.913 130.933 371.537 127.654H372.218V126.973H370.855ZM305.238 137.341V138.022C306.196 142.614 308.517 144.91 312.201 144.91H314.244V144.229L305.238 137.341ZM319.088 148.391H327.337L330.819 147.71V147.029H320.45C319.542 147.18 319.088 147.634 319.088 148.391ZM306.676 147.71V148.391C308.492 150.662 310.561 151.797 312.882 151.797H314.244V151.116C313.588 151.116 311.065 149.98 306.676 147.71Z" />
              <path d="M204.306 0.354004H204.836L204.306 1.48926V3.75977C209.15 2.85156 211.572 1.71631 211.572 0.354004L214.978 0.883789C220.629 0.530599 225.851 0.354004 230.644 0.354004H231.25C238.616 0.354004 247.421 4.46615 257.663 12.6904C259.681 16.2223 260.993 19.401 261.599 22.2266V27.9028C260.337 35.6226 258.269 41.425 255.393 45.3101C253.778 46.7733 250.044 51.4404 244.191 59.3115H243.586V58.1763L245.251 55.9814H244.191C230.972 67.2835 215.987 75.8862 199.235 81.7896C195.048 82.8996 190.935 83.4546 186.899 83.4546C192.197 89.6606 201.91 97.9102 216.037 108.203C217.5 108.91 226.507 114.712 243.056 125.61C256.78 134.137 273.254 143.497 292.478 153.689V154.294H290.207C286.473 152.882 284.606 151.923 284.606 151.418L283.471 152.024H282.336C281.983 152.024 281.806 151.822 281.806 151.418C280.393 151.772 279.258 153.083 278.4 155.354C280.671 156.111 281.806 156.868 281.806 157.625C280.898 158.381 280.141 158.76 279.536 158.76L276.735 158.154V158.76C276.735 159.517 277.29 159.895 278.4 159.895V161.56H277.871C277.063 161.56 268.637 156.691 252.592 146.953C241.24 141.201 227.39 132.397 211.042 120.54C205.694 118.067 195.754 110.776 181.223 98.667H179.558C177.388 101.997 174.588 110.045 171.157 122.81C170.4 125.787 166.641 130.101 159.88 135.752H158.745L157.685 134.011V133.481C157.685 132.573 158.24 130.883 159.35 128.411V127.881H158.745C158.644 128.89 156.398 130.555 152.009 132.876H151.479V131.816C164.597 92.8646 173.78 67.3844 179.028 55.376C188.009 34.79 192.5 23.0086 192.5 20.0317C190.431 20.0317 185.94 22.6554 179.028 27.9028H177.893L178.422 26.7676V25.6323C176.354 25.6323 171.687 29.0129 164.421 35.7739H163.815V35.1685L171.157 26.7676L172.292 25.1025V24.4971H171.157L164.421 30.0977C163.664 30.0977 163.286 29.7445 163.286 29.0381C170.299 21.2679 178.902 14.7087 189.094 9.36035C198.479 6.98893 203.171 4.16341 203.171 0.883789L204.306 0.354004ZM255.393 16.0962V16.626C255.493 17.3828 255.872 17.7612 256.528 17.7612V17.2314C256.528 16.4746 256.149 16.0962 255.393 16.0962ZM189.699 69.9829H190.229C196.94 68.6711 200.32 67.561 200.371 66.6528C199.967 65.896 199.765 65.3158 199.765 64.9121C214.095 60.0684 223.656 55.2246 228.449 50.3809C228.903 50.3809 231.905 47.1769 237.456 40.769H237.985V41.3745C237.229 42.5854 236.85 43.5189 236.85 44.1748H237.456C242.299 40.4411 244.721 36.3289 244.721 31.8384V28.4326C243.611 28.4326 243.056 28.0542 243.056 27.2974C244.923 26.9442 245.856 26.0107 245.856 24.4971C245.856 22.5293 242.097 20.6624 234.58 18.8965C228.575 17.3828 222.041 16.626 214.978 16.626C211.345 16.626 207.788 23.1852 204.306 36.3037C202.792 37.9183 197.924 49.1447 189.699 69.9829ZM196.435 22.2266V22.832C196.94 22.832 197.495 22.277 198.1 21.167V20.5615C197.545 20.5615 196.99 21.1165 196.435 22.2266ZM196.965 32.8979H197.57C198.68 32.5448 199.235 31.4347 199.235 29.5679C198.63 29.5679 197.873 30.6779 196.965 32.8979ZM249.792 35.1685V36.3037C250.297 36.3037 250.852 35.7487 251.457 34.6387V34.0332H250.927C250.17 34.1846 249.792 34.563 249.792 35.1685ZM189.094 72.7832V73.3887H190.229C190.935 72.985 191.49 72.7832 191.894 72.7832V73.3887C201.027 71.7741 206.476 69.9072 208.242 67.7881H207.636C199.412 69.7559 193.231 71.4209 189.094 72.7832ZM186.899 78.4595H187.429L197.57 76.189L196.965 75.0537C190.254 75.9619 186.899 77.0972 186.899 78.4595ZM209.301 113.274V114.409C215.104 118.9 218.661 121.145 219.973 121.145C218.509 120.136 217.778 119.202 217.778 118.345L209.301 113.274ZM225.649 125.61C226.002 127.124 227.112 127.881 228.979 127.881H229.584V127.275C228.676 127.275 227.541 126.72 226.179 125.61H225.649ZM262.128 145.818C265.055 148.492 269.545 151.116 275.6 153.689L276.206 152.554C271.513 149.779 267.199 147.533 263.264 145.818H262.128ZM293.007 154.824H294.748C295.454 154.925 295.808 155.304 295.808 155.959C295.101 155.959 294.748 156.514 294.748 157.625H293.613L294.143 156.489V155.959H293.007V154.824Z" />
              <path d="M151.358 0.354004H151.812V0.808105C151.812 1.00993 151.661 1.66585 151.358 2.77588C152.317 4.94548 153.452 6.73665 154.764 8.14941V8.60352C152.342 16.071 148.936 24.5223 144.546 33.9575L129.939 65.5933C132.21 66.8547 133.345 67.6619 133.345 68.0151C132.588 68.6711 131.453 68.999 129.939 68.999V69.5288L130.394 70.5127C126.761 71.875 124.339 74.4735 123.128 78.3081C100.927 119.985 84.8573 147.584 74.9175 161.106H74.3877V157.17C78.7269 150.561 83.5959 141.302 88.9946 129.395L91.4165 125.535V124.551C90.4074 124.551 87.9855 128.285 84.1509 135.752C83.2427 136.458 81.4515 139.713 78.7773 145.515C78.4242 145.515 76.8096 148.416 73.9336 154.219C72.8236 154.219 72.0163 155.531 71.5117 158.154C70.6035 159.769 69.771 160.576 69.0142 160.576L66.5923 160.122V161.56C66.2896 161.56 66.1382 161.409 66.1382 161.106L65.1543 161.56C64.4984 161.257 64.019 161.106 63.7163 161.106C68.005 150.611 73.0254 140.848 78.7773 131.816L88.5405 113.804C88.5405 113.148 90.6344 109.086 94.8223 101.619C94.8223 101.064 96.4621 97.9858 99.7417 92.3853C104.939 83.1014 107.537 77.0972 107.537 74.3726H107.007C90.4578 74.3726 82.1831 75.5078 82.1831 77.7783C63.2622 94.126 49.1346 105.655 39.8003 112.366H39.3462V111.912C39.6489 110.6 40.3049 109.944 41.314 109.944V109.414C40.7085 109.414 39.7246 109.111 38.3623 108.506C38.3623 109.515 37.555 110.474 35.9404 111.382H34.9565V110.928C34.9565 110.575 35.1079 110.398 35.4106 110.398L34.9565 109.414V108.506L36.3945 105.554L33.9727 106.008H33.5186L37.3784 98.7427L43.2061 93.8989L60.7646 77.7783V76.3403C60.0078 76.3403 59.3519 76.1637 58.7969 75.8105C58.4941 75.8105 58.3428 75.9871 58.3428 76.3403L55.9209 75.8105H48.5796C46.8136 75.8105 44.5431 75.6592 41.7681 75.3564C41.4653 75.3564 41.314 75.5078 41.314 75.8105C41.0617 75.8105 40.0778 75.6592 38.3623 75.3564C13.0335 75.3564 0.369141 74.3726 0.369141 72.4048C3.39648 69.8315 6.14632 68.5449 8.61865 68.5449V68.999C9.07275 68.6963 10.208 68.5449 12.0244 68.5449V68.0151H10.5864V67.1069H11.1162C13.639 67.1069 19.6432 66.9303 29.1289 66.5771L29.583 65.5933L27.1611 65.1392H21.7876V64.1553C21.939 64.1553 23.5535 63.6759 26.6313 62.7173L27.6152 63.1714C27.8171 63.1714 28.473 63.02 29.583 62.7173L30.5669 63.1714L31.5508 62.7173C32.2067 62.7173 32.5347 62.8687 32.5347 63.1714L37.3784 62.7173H48.1255V64.1553H49.1094C49.7148 64.1553 50.0176 63.6759 50.0176 62.7173H50.5474C50.5474 63.6759 51.6826 64.1553 53.9531 64.1553H57.813C58.923 64.1553 59.7555 64.0039 60.3105 63.7012L63.1865 64.1553H69.0142L72.4199 63.7012V63.1714H70.9819V62.7173C71.0828 62.0614 71.4108 61.7334 71.9658 61.7334H75.8257C79.6099 61.7334 82.7129 60.4215 85.1348 57.7979C85.1348 58.151 85.2861 58.3276 85.5889 58.3276C85.5889 57.4699 86.2448 56.814 87.5566 56.3599C87.5566 55.3507 90.1551 53.0802 95.3521 49.5483C95.9575 48.186 102.769 42.3332 115.787 31.9897C133.143 17.2567 145 6.71143 151.358 0.354004ZM123.582 41.7529C111.574 52.2982 105.569 57.8231 105.569 58.3276V59.7656C106.124 60.1188 106.78 60.2954 107.537 60.2954H108.975L112.381 59.7656V60.2954C116.115 60.2954 118.864 57.369 120.63 51.5161C123.254 47.1769 124.566 44.0739 124.566 42.207L123.582 41.7529ZM101.634 62.7173C102.946 62.7173 103.602 62.8687 103.602 63.1714C104.257 62.8687 104.762 62.7173 105.115 62.7173C105.67 62.7173 108.571 62.5407 113.819 62.1875V61.2036H112.835C105.368 61.2036 101.634 61.7082 101.634 62.7173ZM57.3589 62.1875H62.2026V63.1714H57.3589V62.1875ZM73.9336 62.7173V63.1714L76.3555 63.7012V62.7173H73.9336ZM30.5669 65.5933V66.123H33.9727V65.5933H30.5669ZM26.1772 70.5127V71.4966H28.145V70.9668L26.1772 70.5127ZM29.1289 70.9668V71.4966H34.4268V70.9668H29.1289ZM34.9565 70.9668V71.9507H49.5635V71.4966C44.9215 71.4966 40.0526 71.32 34.9565 70.9668ZM96.3359 71.9507H89.5244C89.6253 72.6066 89.9281 72.9346 90.4326 72.9346H91.4165C92.577 72.9346 94.0402 72.758 95.8062 72.4048L96.79 72.9346C97.3451 72.5814 98.1523 72.4048 99.2119 72.4048L98.7578 71.4966L96.3359 71.9507ZM102.164 71.9507V72.4048C103.728 72.1021 105.847 71.9507 108.521 71.9507V71.4966H103.602C102.996 71.7993 102.517 71.9507 102.164 71.9507ZM37.8325 73.9185V74.3726C41.6672 74.3726 44.7702 74.5492 47.1416 74.9023C48.403 74.5492 49.5382 74.3726 50.5474 74.3726V73.3887H42.752L37.8325 73.9185ZM52.9692 73.9185C53.0701 74.5744 53.3981 74.9023 53.9531 74.9023H55.3911C55.3911 74.2464 55.0632 73.9185 54.4072 73.9185H52.9692ZM33.5186 106.008V106.538C33.5186 107.194 33.1906 107.522 32.5347 107.522V106.992C32.6356 106.336 32.9635 106.008 33.5186 106.008ZM33.5186 115.317H34.4268V115.771C34.4268 116.427 34.124 116.755 33.5186 116.755C32.8626 116.755 32.5347 116.427 32.5347 115.771L33.5186 115.317ZM68.5601 155.732C68.5601 156.086 68.3835 156.565 68.0303 157.17H69.998V156.716C69.998 156.06 69.6701 155.732 69.0142 155.732H68.5601Z" />
              <path d="M308.075 238V189H328.025C333.252 189 337.825 190.05 341.745 192.15C345.712 194.203 348.792 197.073 350.985 200.76C353.178 204.447 354.275 208.693 354.275 213.5C354.275 218.307 353.178 222.553 350.985 226.24C348.792 229.927 345.712 232.82 341.745 234.92C337.825 236.973 333.252 238 328.025 238H308.075ZM313.255 233.52H327.745C332.085 233.52 335.842 232.68 339.015 231C342.235 229.273 344.732 226.917 346.505 223.93C348.278 220.897 349.165 217.42 349.165 213.5C349.165 209.533 348.278 206.057 346.505 203.07C344.732 200.083 342.235 197.75 339.015 196.07C335.842 194.343 332.085 193.48 327.745 193.48H313.255V233.52Z" />
              <path d="M288.475 238.42C282.222 238.42 277.299 236.623 273.705 233.03C270.112 229.437 268.315 224.117 268.315 217.07V189H273.495V216.86C273.495 222.647 274.802 226.917 277.415 229.67C280.029 232.423 283.715 233.8 288.475 233.8C293.282 233.8 296.992 232.423 299.605 229.67C302.219 226.917 303.525 222.647 303.525 216.86V189H308.565V217.07C308.565 224.117 306.769 229.437 303.175 233.03C299.629 236.623 294.729 238.42 288.475 238.42Z" />
              <path d="M217.98 238V189H222.25L244.65 227.22H242.41L264.6 189H268.87V238H263.9V196.77H265.09L244.65 231.77H242.2L221.62 196.77H222.95V238H217.98Z" />
              <path d="M458.978 238V193.48H441.758V189H481.378V193.48H464.158V238H458.978Z" />
              <path d="M412.856 238V189H431.196C435.349 189 438.919 189.677 441.906 191.03C444.892 192.337 447.179 194.25 448.766 196.77C450.399 199.243 451.216 202.253 451.216 205.8C451.216 209.253 450.399 212.24 448.766 214.76C447.179 217.233 444.892 219.147 441.906 220.5C438.919 221.807 435.349 222.46 431.196 222.46H415.726L418.036 220.08V238H412.856ZM446.316 238L433.716 220.22H439.316L451.986 238H446.316ZM418.036 220.5L415.726 218.05H431.056C435.956 218.05 439.666 216.977 442.186 214.83C444.752 212.683 446.036 209.673 446.036 205.8C446.036 201.88 444.752 198.847 442.186 196.7C439.666 194.553 435.956 193.48 431.056 193.48H415.726L418.036 191.03V220.5Z" />
              <path d="M368.14 238L390.54 189H395.65L418.05 238H412.59L392.01 192.01H394.11L373.53 238H368.14ZM376.96 224.91L378.5 220.71H406.99L408.53 224.91H376.96Z" />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M447 192H432V189H447V192Z"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M62.8976 161.21C63.6714 156.104 66.7868 150.604 71.2691 144.823C73.2997 142.204 77.0686 141.728 79.6873 143.758C82.306 145.789 82.7828 149.558 80.7523 152.176C76.6082 157.521 75.0638 161.017 74.7621 163.008C74.6317 163.868 74.7742 164.182 74.7959 164.229L74.7961 164.23C74.8165 164.274 74.9347 164.531 75.5549 164.915C77.044 165.834 80.2009 166.725 85.7938 166.924C91.1922 167.116 98.1021 166.647 106.437 165.551C139.925 161.148 192.953 147.129 253.878 130.585C259.388 129.088 264.961 127.572 270.586 126.041C326.921 110.713 388.527 93.9497 446.047 81.3271C509.14 67.4814 568.065 58.4369 610.011 62.0218C613.313 62.304 615.76 65.2093 615.478 68.5109C615.196 71.8126 612.291 74.2604 608.989 73.9782C569.033 70.5634 511.694 79.2064 448.619 93.0482C391.409 105.603 330.094 122.286 273.708 137.628C268.094 139.156 262.529 140.67 257.022 142.165C196.423 158.621 142.48 172.915 108.002 177.449C99.3458 178.587 91.7024 179.142 85.3676 178.916C79.2272 178.698 73.4709 177.732 69.249 175.124C67.0161 173.745 65.0779 171.822 63.8909 169.237C62.706 166.657 62.4901 163.898 62.8976 161.21Z"
              />
            </svg>
          </Link>
          <div
            className={`flex gap-4 ${
              route === "/"
                ? y > 80 && !open
                  ? "text-black"
                  : "text-white"
                : "text-black"
            }`}
          >
            {!showSearch ? (
              // <svg
              //   onClick={() => {
              //     setShowSearch(false)
              //   }}
              //   size={22}
              //   className={`ml-auto z-4 cursor-pointer transition-colors group-hover:stroke-black`}
              //   xmlns="http://www.w3.org/2000/svg"
              //   width="24"
              //   height="24"
              //   viewBox="0 0 24 24"
              //   fill="none"
              //   stroke="currentColor"
              //   strokeWidth="2"
              //   strokeLinecap="round"
              //   strokeLinejoin="round"
              // >
              //   <path d="M18 6 6 18" />
              //   <path d="m6 6 12 12" />
              // </svg>
              // ) :
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                strokeWidth="2"
                strokeLinecap="round"
                strokeLinejoin="round"
                size={22}
                onClick={() => {
                  setShowSearch(true)
                }}
                className="ml-auto z-4 cursor-pointer transition-colors group-hover:stroke-black"
              >
                <path d="m21 21-4.34-4.34" />
                <circle cx="11" cy="11" r="8" />
              </svg>
            ) : (
              <div className="w-[24] h-[24]"></div>
            )}
          </div>
        </div>
        <ul
          className={`z-3 px-4 flex flex-col gap-4 pt-20 fixed transition-all  uppercase w-full h-screen top-0 left-0 ${
            route === "/"
              ? y > 80 || open
                ? "text-black/60 bg-white md:bg-transparent"
                : "text-white/70"
              : "text-black/60 bg-white"
          } md:group-hover:text-black/60 md:static md:gap-8 md:items-center md:justify-center md:pt-4 md:flex-row md:w-auto md:h-auto ${
            open ? "ulOpen" : "ulClose"
          }`}
        >
          <motion.li
            className="will-change-transform"
            initial={
              deviceWidth < 540 ? { x: -20, opacity: 0 } : { x: 0, opacity: 1 }
            }
            whileInView={
              deviceWidth < 540
                ? {
                    x: 0,
                    opacity: 1,
                    transition: { ease: "linear" },
                  }
                : undefined
            }
          >
            <Link
              href="/"
              className={`md:relative md:after:absolute after:bottom-0 after:h-[2px] after:bg-black after:w-0 hover:after:w-full  after:left-0 after:transition-all after:duration-300 transition-colors pb-4 block md:inline-block border-b border-black/10 md:border-none hover:text-black ${
                route === "/" &&
                (y > 80 || open
                  ? "text-black"
                  : "text-white group-hover:text-black")
              }`}
            >
              Home
            </Link>
          </motion.li>
          <motion.li
            tabIndex={0}
            className="will-change-transform group/drop"
            initial={
              deviceWidth < 540 ? { x: -20, opacity: 0 } : { x: 0, opacity: 1 }
            }
            whileInView={
              deviceWidth < 540
                ? {
                    x: 0,
                    opacity: 1,
                    transition: { ease: "linear", duration: 0.15, delay: 0.2 },
                  }
                : undefined
            }
          >
            <span
              className={`md:relative  transition-colors pb-4 flex items-center  border-b border-black/10 md:border-none hover:text-black `}
            >
              CATEGORIES{" "}
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                strokeWidth="2"
                strokeLinecap="round"
                strokeLinejoin="round"
                className="transition group-focus-within/drop:rotate-180"
              >
                <path d="m6 9 6 6 6-6" />
              </svg>
            </span>
            <ul className="hidden group-focus-within/drop:block transition-all static md:absolute mt-2 right-0 *:py-1 md:border border-black/10 bg-white md:py-5 px-5 max-w-90 rounded text-black/60 *:hover:text-black">
              {categories
                ? categories.map(({ category }) => (
                    <Link
                      key={category}
                      className="block"
                      href={`/products?category=${category}`}
                    >
                      {category}
                    </Link>
                  ))
                : null}
            </ul>
          </motion.li>
          <motion.li
            className="will-change-transform"
            initial={
              deviceWidth < 540 ? { x: -20, opacity: 0 } : { x: 0, opacity: 1 }
            }
            whileInView={
              deviceWidth < 540
                ? {
                    x: 0,
                    opacity: 1,
                    transition: { ease: "linear", duration: 0.15, delay: 0.4 },
                  }
                : undefined
            }
          >
            <Link
              href="/products"
              className={`md:relative md:after:absolute after:bottom-0 after:h-[2px] after:bg-black after:w-0 hover:after:w-full  after:left-0 after:transition-all after:duration-300 transition-colors pb-4 block md:inline-block border-b border-black/10 md:border-none hover:text-black ${
                route.includes("/products") ? "text-black after:w-full" : null
              }`}
            >
              All Products
            </Link>
          </motion.li>
          <motion.li
            className="will-change-transform"
            initial={
              deviceWidth < 540 ? { x: -20, opacity: 0 } : { x: 0, opacity: 1 }
            }
            whileInView={
              deviceWidth < 540
                ? {
                    x: 0,
                    opacity: 1,
                    transition: { ease: "linear", duration: 0.15, delay: 0.6 },
                  }
                : undefined
            }
          >
            <Link
              href="/courses"
              className={`md:relative md:after:absolute after:bottom-0 after:h-[2px] after:bg-black after:w-0 hover:after:w-full  after:left-0 after:transition-all after:duration-300 transition-colors pb-4 block md:inline-block border-b border-black/10 md:border-none hover:text-black ${
                route === "/courses" ? "text-black after:w-full" : null
              }`}
            >
              Courses
            </Link>
          </motion.li>
          <motion.li
            className="will-change-transform"
            initial={
              deviceWidth < 540 ? { x: -20, opacity: 0 } : { x: 0, opacity: 1 }
            }
            whileInView={
              deviceWidth < 540
                ? {
                    x: 0,
                    opacity: 1,
                    transition: { ease: "linear", duration: 0.15, delay: 0.8 },
                  }
                : undefined
            }
          >
            <Link
              href="/commission"
              className={`md:relative md:after:absolute after:bottom-0 after:h-[2px] after:bg-black after:w-0 hover:after:w-full  after:left-0 after:transition-all after:duration-300 transition-colors pb-4 block md:inline-block border-b border-black/10 md:border-none hover:text-black ${
                route === "/commission" ? "text-black after:w-full" : null
              }`}
            >
              Commission
            </Link>
          </motion.li>
          <motion.li
            className="will-change-transform"
            initial={
              deviceWidth < 540 ? { x: -20, opacity: 0 } : { x: 0, opacity: 1 }
            }
            whileInView={
              deviceWidth < 540
                ? {
                    x: 0,
                    opacity: 1,
                    transition: { ease: "linear", duration: 0.15, delay: 1 },
                  }
                : undefined
            }
          >
            <Link
              href="/about"
              className={`md:relative md:after:absolute after:bottom-0 after:h-[2px] after:bg-black after:w-0 hover:after:w-full  after:left-0 after:transition-all after:duration-300 transition-colors pb-4 block md:inline-block border-b border-black/10 md:border-none hover:text-black ${
                route === "/about" ? "text-black after:w-full" : null
              }`}
            >
              About
            </Link>
          </motion.li>
          <motion.li
            className="will-change-transform"
            initial={
              deviceWidth < 540 ? { x: -20, opacity: 0 } : { x: 0, opacity: 1 }
            }
            whileInView={
              deviceWidth < 540
                ? {
                    x: 0,
                    opacity: 1,
                    transition: { ease: "linear", duration: 0.15, delay: 1.2 },
                  }
                : undefined
            }
          >
            <Link
              href="/contact"
              className={`md:relative md:after:absolute after:bottom-0 after:h-[2px] after:bg-black after:w-0 hover:after:w-full  after:left-0 after:transition-all after:duration-300 transition-colors pb-4 block md:inline-block border-b border-black/10 md:border-none hover:text-black ${
                route === "/contact" ? "text-black after:w-full" : null
              }`}
            >
              Contact
            </Link>
          </motion.li>
        </ul>
        {showSearch && <Filter setShowSearch={setShowSearch} />}
      </nav>
    </>
  )
}

export const Filter = ({ setShowSearch }) => {
  const [input, setInput] = useState("")
  // const [dropdown, setDropdown] = useState(false)
  const [filtered, setFiltered] = useState([])
  const { products, categories } = useContext(Context)
  const { events } = useRouter()
  // const selectedCat = useRouter().query.category

  // const categories = [...new Set(products.map((prod) => prod.category))]

  useEffect(() => {
    const filter = products.filter((product) => {
      return product.title.toLowerCase().includes(input.toLowerCase())
    })
    input === "" ? setFiltered([]) : setFiltered(filter)
  }, [input])

  useEffect(() => {
    events.on("routeChangeStart", () => {
      setShowSearch(false)
    })
  }, [])
  return (
    <div className="z-3 flex flex-col absolute w-full h-screen border-t border-black/10  left-0 top-full">
      <div className="relative">
        {/* <p className="mb-2  text-black">Search</p> */}
        <div className="relative">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            strokeWidth="2"
            strokeLinecap="round"
            strokeLinejoin="round"
            size={16}
            className="absolute top-1/2 -translate-y-1/2 left-3
          "
          >
            <path d="m21 21-4.34-4.34" />
            <circle cx="11" cy="11" r="8" />
          </svg>
          <input
            maxLength={25}
            value={input}
            onChange={(e) => setInput(e.target.value)}
            type="text"
            placeholder="Search"
            className="px-10 bg-white pl-13 w-full py-3 uppercase text-black outline-none placeholder:text-black/50 border-black/50 focus:border-black"
          />
          {/* {(filtered.length !== 0 || input) && ( */}
          <svg
            onClick={() => setShowSearch(false)}
            size={25}
            color={"#0c0908"}
            className="absolute cursor-pointer right-3 top-1/2 -translate-y-1/2"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            strokeWidth="2"
            strokeLinecap="round"
            strokeLinejoin="round"
          >
            <path d="M18 6 6 18" />
            <path d="m6 6 12 12" />
          </svg>
          {/* )} */}
        </div>
        {filtered.length !== 0 ? (
          <motion.div
            key="key2"
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            exit={{ opacity: 0 }}
            transition={{ duration: 0.1 }}
            className="bg-white capitalize max-h-40 overflow-y-auto text-black p-4"
          >
            {filtered.map((all, i) => (
              <motion.span
                initial={{ opacity: 0 }}
                animate={{ opacity: 1 }}
                exit={{ opacity: 0 }}
                key={all.slug}
                className="block pb-2"
              >
                <Link
                  onClick={() => {
                    setShowSearch(false)
                  }}
                  className="block"
                  href={`/products/${all.slug}`}
                >
                  {all.title}
                </Link>
              </motion.span>
            ))}
          </motion.div>
        ) : (
          input && (
            <motion.div
              key="key1"
              initial={{ opacity: 0 }}
              animate={{ opacity: 1 }}
              exit={{ opacity: 0 }}
              className="p-4 text-black bg-white break-all"
            >
              No Results for "{input}"
            </motion.div>
          )
        )}
      </div>
      <div
        onClick={() => setShowSearch(false)}
        className="bg-black/50 h-full"
      ></div>
      {/*
      <div>
        <p className="mb-2  text-black">Sort By Category</p>
        <div className="rounded-md md:w-96 max-w-md relative border  border-black/50 select-none">
          <div
            onClick={() => {
              setDropdown(!dropdown)
            }}
            tabIndex={0}
            className="flex justify-between items-center px-4 py-2 cursor-pointer"
          >
            <h3 className="w-full text-black ">{selectedCat || "All"}</h3>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              strokeWidth="2"
              strokeLinecap="round"
              strokeLinejoin="round"
              onClick={() => {
                setDropdown(!dropdown)
              }}
              size={20}
              className="transition"
              style={{ transform: dropdown && "rotate(180deg)" }}
            >
              <path d="m6 9 6 6 6-6" />
            </svg>
          </div>
          <AnimatePresence>
            {dropdown && (
              <motion.div
                initial={{ height: 0 }}
                animate={{ height: "auto" }}
                exit={{ height: 0 }}
                transition={{ ease: "linear", duration: 0.15, duration: 0.1 }}
                className="absolute max-h-58 overflow-y-auto mt-2 max-w-md w-full top-full z-[2] left-0 rounded-md gap-1 p-4 flex flex-col overflow-hidden  bg-[#f4f4f4]"
              >
                <Link
                  href={`/products`}
                  onClick={() => {
                    setShowSearch(false)
                  }}
                  className={"py-1 text-black cursor-pointer"}
                >
                  All
                </Link>
                {categories.map((cat) => {
                  return (
                    <Link
                      href={`/products?category=${cat.category}`}
                      key={cat.category}
                      onClick={() => {
                        setShowSearch(false)
                      }}
                      className={"py-1 text-black cursor-pointer"}
                    >
                      {cat.category}
                    </Link>
                  )
                })}
              </motion.div>
            )}
          </AnimatePresence>
        </div>
      </div> */}
    </div>
  )
}

export default Navbar
